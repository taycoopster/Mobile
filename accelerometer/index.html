<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Untitled Document</title>
<script type="text/javascript">

	function onBodyLoad(){
		document.addEventListener("deviceready", myCallBackFunction, false);
	}
	var watchID = null;
	//wait for API libraries
		
	function myCallBackFunction(){
		alert('deviceReady fired');
		startWatch();
	}
	
	function startWatch(){
		
		var options = { frequency: 10 };
		
		watchID = navigator.accelerometer.watchAcceleration(onSuccess, onError, options);	
	
	}
	
	function stopWatch(){
		if(watchID){
			navigator.accelerometer.clearWatch(watchID);
			watchID = null;
		}
	}
	
	//when onSuccess fires- pull acceleration
	function onSuccess(acceleration){
		console.log('Success');
		var element = document.getElementById('accel');
		element.innerHTML = 'Acceleration X:' + acceleration.x + '<br />' +
							'Acceleration Y:' + acceleration.y + '<br />' +
							'Acceleration Z:' + acceleration.z + '<br />' +
							'Timestamp: '	  + acceleration.timestamp + '<br />';
	}
	
	//when big error
	function onError(){
		alert('Error. Uh, hullo?');	
	}

</script>


</head>

<body onLoad="onBodyLoad();">


<div data-role="page">
Hello world...

<div id="accel">Waiting...</div>


</div>
</body>
</html>
