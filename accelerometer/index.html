<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Untitled Document</title>
<script type="text/javascript">

		$(document).ready(startWatch());

	var watchID = null;
	//wait for API libraries
		
		startWatch();
	
	function startWatch(){
		
		window.alert('deviceReady fired');
		var options = { frequency: 10 };
		
		watchID = navigator.accelerometer.watchAcceleration(onSuccess, onError, options);	
	
	}
	
	function stopWatch(){
		if(watchID){
			navigator.accelerometer.clearWatch(watchID);
			watchID = null;
		}
	}
	
	//when onSuccess fires- pull acceleration
	function onSuccess(acceleration){
		console.log('Success');
		var element = document.getElementById('accel');
		element.innerHTML = 'Acceleration X:' + acceleration.x + '<br />' +
							'Acceleration Y:' + acceleration.y + '<br />' +
							'Acceleration Z:' + acceleration.z + '<br />' +
							'Timestamp: '	  + acceleration.timestamp + '<br />';
	}
	
	//when big error
	function onError(){
		alert('Error. Uh, hullo?');	
	}

</script>


</head>

<body onload="onBodyLoad();">


<div data-role="page">
Hello world...

<div id="accel">Waiting...</div>


</div>
</body>
</html>
